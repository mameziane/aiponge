# Aiponge API Gateway - Environment Variables
# Source of truth: packages/platform-core/src/config/environment-config.ts

# =============================================================================
# Core Configuration
# =============================================================================

NODE_ENV=development
PORT=8080
HOST=0.0.0.0

# =============================================================================
# Database (Required)
# =============================================================================

DATABASE_URL=postgresql://user:password@localhost:5432/aiponge

# =============================================================================
# Authentication (Required)
# =============================================================================

# JWT signing secret (min 32 chars)
JWT_SECRET=your-secure-jwt-secret-min-32-chars

# Secret for inter-service communication (HMAC-signed)
INTERNAL_SERVICE_SECRET=your-internal-service-secret-here

# AES-256-GCM key for data encryption
ENTRY_ENCRYPTION_KEY=your-entry-encryption-key-here

# =============================================================================
# Redis (Required for rate limiting and caching)
# =============================================================================

REDIS_URL=redis://localhost:6379

# =============================================================================
# Security
# =============================================================================

# BCRYPT_ROUNDS=12

# Comma-separated list of allowed CORS origins
ALLOWED_ORIGINS=http://localhost:5000,http://localhost:3000
# CORS_ALLOW_CREDENTIALS=true
# CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
# CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Correlation-ID
# CORS_MAX_AGE=86400

# =============================================================================
# Rate Limiting
# =============================================================================

# Max requests per window for unauthenticated users (default: 100)
# RATE_LIMIT_MAX_REQUESTS=100

# Max requests per window for authenticated users (default: 200)
# RATE_LIMIT_AUTH_MAX=200

# Divisor for in-memory rate limit fallback (default: 4 in prod, 1 in dev)
# RATE_LIMIT_FALLBACK_DIVISOR=4

# =============================================================================
# Service URLs (Auto-resolved in development via service discovery)
# =============================================================================

SERVICE_HOST=localhost
# SYSTEM_SERVICE_URL=http://localhost:3001
# STORAGE_SERVICE_URL=http://localhost:3002
# USER_SERVICE_URL=http://localhost:3003
# AI_CONFIG_SERVICE_URL=http://localhost:3004
# AI_CONTENT_SERVICE_URL=http://localhost:3005
# AI_ANALYTICS_SERVICE_URL=http://localhost:3006
# MUSIC_SERVICE_URL=http://localhost:3007

# =============================================================================
# AI Provider API Keys (for admin provider health checks)
# =============================================================================

OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# =============================================================================
# Monitoring & Error Tracking
# =============================================================================

SENTRY_DSN=
# ANALYTICS_SERVICE_API_KEY=

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL=info

# =============================================================================
# OpenTelemetry Distributed Tracing
# =============================================================================

OTEL_TRACING_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
