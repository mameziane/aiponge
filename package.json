{
  "name": "aiponge",
  "version": "1.0.0",
  "private": true,
  "packageManager": "npm@11.11.0",
  "engines": {
    "node": ">=20.19.0"
  },
  "overrides": {
    "use-latest-callback": "^0.2.1",
    "esbuild": "$esbuild"
  },
  "workspaces": [
    "apps/*",
    "packages/*",
    "packages/services/*",
    "packages/shared/*"
  ],
  "scripts": {
    "preinstall": "",
    "prepare": "simple-git-hooks",
    "postinstall": "npm run generate:config || echo 'Config generation skipped'",
    "predev": "npm run generate:config || true",
    "prebuild": "npm run generate:config || true",
    "generate:config": "tsx scripts/codegen/generate-all-configs.ts",
    "validate:config": "tsx scripts/utils/validate-config-freshness.ts",
    "dev:aiponge-minimal": "NODE_OPTIONS=\"--conditions=development\" tsx deploy/dev/startup-orchestrator.ts aiponge-minimal",
    "dev": "dotenv -- turbo dev --filter='@aiponge/system-service' --filter='@aiponge/api-gateway' --filter='@aiponge/user-service' --filter='@aiponge/music-service' --filter='@aiponge/storage-service' --filter='@aiponge/ai-config-service' --filter='@aiponge/ai-content-service' --filter='@aiponge/ai-analytics-service' --filter='@aiponge/app' --concurrency=11 --log-order=stream",
    "dev:api-gateway": "dotenv -- turbo dev --filter=@aiponge/api-gateway",
    "dev:system-service": "dotenv -- turbo dev --filter=@aiponge/system-service",
    "dev:storage-service": "dotenv -- turbo dev --filter=@aiponge/storage-service",
    "dev:user-service": "dotenv -- turbo dev --filter=@aiponge/user-service",
    "dev:music-service": "dotenv -- turbo dev --filter=@aiponge/music-service",
    "dev:ai-config-service": "dotenv -- turbo dev --filter=@aiponge/ai-config-service",
    "dev:ai-content-service": "dotenv -- turbo dev --filter=@aiponge/ai-content-service",
    "dev:ai-analytics-service": "dotenv -- turbo dev --filter=@aiponge/ai-analytics-service",
    "dev:ai-services": "dotenv -- turbo dev --filter='@aiponge/ai-*-service' --concurrency=5",
    "build:aiponge": "turbo build --filter=@aiponge/aiponge",
    "build:backend": "turbo build --filter='@aiponge/*-service'",
    "build:ai-services": "turbo build --filter='@aiponge/ai-*-service'",
    "build": "turbo build --parallel",
    "build:prod": "turbo build --filter='@aiponge/api-gateway...'",
    "test": "turbo test --parallel",
    "lint": "turbo lint --parallel",
    "typecheck": "turbo typecheck",
    "clean": "turbo clean",
    "check": "turbo typecheck",
    "db:push": "drizzle-kit push",
    "services:status": "curl -s http://localhost:${SYSTEM_SERVICE_PORT:-3001}/api/discovery/services | head -50",
    "stop": "pkill -TERM node || true; pkill -TERM tsx || true; pkill -TERM npm || true; pkill -TERM turbo || true",
    "test:load": "k6 run tests/load/scripts/full-scenario.js",
    "test:load:auth": "k6 run tests/load/scripts/auth-flow.js",
    "test:load:health": "k6 run tests/load/scripts/health-check.js",
    "test:load:library": "k6 run tests/load/scripts/library-browsing.js",
    "test:load:music": "k6 run tests/load/scripts/music-generation.js",
    "test:load:music-async": "k6 run tests/load/scripts/music-generation-async.js",
    "test:load:metadata": "k6 run tests/load/scripts/cached-metadata.js",
    "test:load:all": "k6 run tests/load/scripts/health-check.js && k6 run tests/load/scripts/auth-flow.js && k6 run tests/load/scripts/library-browsing.js && k6 run tests/load/scripts/music-generation.js && k6 run tests/load/scripts/music-generation-async.js && k6 run tests/load/scripts/cached-metadata.js"
  },
  "simple-git-hooks": {
    "pre-commit": "bash scripts/check-no-secrets.sh && npx lint-staged && npm run generate:config && git add apps/aiponge/config/generated"
  },
  "lint-staged": {
    "*.{ts,tsx,js,jsx}": "prettier --write",
    "*.{json,md,yml,yaml}": "prettier --write"
  },
  "devDependencies": {
    "@eslint/js": "^10.0.1",
    "@types/node": "^25.3.3",
    "chokidar": "^5.0.0",
    "dotenv-cli": "^11.0.0",
    "drizzle-kit": "^0.31.9",
    "esbuild": "^0.27.2",
    "eslint": "^10.0.2",
    "eslint-plugin-prettier": "^5.5.4",
    "eslint-plugin-sonarjs": "^4.0.0",
    "prettier": "^3.0.0",
    "simple-git-hooks": "^2.13.1",
    "tsx": "^4.20.5",
    "turbo": "^2.8.12",
    "typescript": "^5.6.3",
    "typescript-eslint": "^8.56.1"
  },
  "dependencies": {
    "@expo/ngrok": "^4.1.3",
    "@types/express": "^5.0.6",
    "@types/express-serve-static-core": "^5.1.1",
    "@types/react": "^19.2.14",
    "expo-print": "^55.0.8",
    "expo-updates": "~55.0.12",
    "react-native-svg": "^15.15.3",
    "react-native-worklets": "^0.7.4"
  }
}
